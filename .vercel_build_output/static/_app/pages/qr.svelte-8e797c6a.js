import{S as G,i as H,s as L,D as V,l as D,f as _,r as y,u as $,w as U,x as d,d as u,E as F,F as B,G as O,Z as P,j as v,m as w,o as j,v as C,e as g,k as R,t as A,c as b,n as S,a as E,g as M,N as Q,b as p,L as N,h as X,a1 as W,a2 as J,Q as K,A as q,T as Y,U as x,M as I,X as ee,a3 as te,a4 as ne}from"../chunks/vendor-c2717d7f.js";import{H as se}from"../chunks/header-a5add63e.js";import{a as le,d as re,c as ae}from"../chunks/firebase-943ac691.js";import{g as oe}from"../chunks/navigation-51f4a605.js";import"../chunks/singletons-12a22614.js";function ce(c){let e,l;return e=new P({props:{sm:2,md:4,lg:8,class:"auma",noGutter:!0,$$slots:{default:[fe]},$$scope:{ctx:c}}}),{c(){v(e.$$.fragment)},l(n){w(e.$$.fragment,n)},m(n,t){j(e,n,t),l=!0},p(n,t){const s={};t&8&&(s.$$scope={dirty:t,ctx:n}),e.$set(s)},i(n){l||(d(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){C(e,n)}}}function ie(c){let e,l;return e=new P({props:{sm:2,md:4,lg:8,class:"auma",noGutter:!0,$$slots:{default:[ue]},$$scope:{ctx:c}}}),{c(){v(e.$$.fragment)},l(n){w(e.$$.fragment,n)},m(n,t){j(e,n,t),l=!0},p(n,t){const s={};t&9&&(s.$$scope={dirty:t,ctx:n}),e.$set(s)},i(n){l||(d(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){C(e,n)}}}function fe(c){let e,l,n,t,s;return{c(){e=g("img"),n=R(),t=g("div"),s=A("\u672A\u767A\u898B"),this.h()},l(r){e=b(r,"IMG",{src:!0,width:!0}),n=S(r),t=b(r,"DIV",{class:!0});var a=E(t);s=M(a,"\u672A\u767A\u898B"),a.forEach(u),this.h()},h(){Q(e.src,l="non.jpg")||p(e,"src",l),p(e,"width","80%"),p(t,"class","margin-small center margin-middle")},m(r,a){_(r,e,a),_(r,n,a),_(r,t,a),N(t,s)},d(r){r&&u(e),r&&u(n),r&&u(t)}}}function ue(c){let e,l,n,t,s,r;return{c(){e=g("img"),n=R(),t=g("div"),s=g("h4"),r=A(c[0]),this.h()},l(a){e=b(a,"IMG",{src:!0,alt:!0,width:!0}),n=S(a),t=b(a,"DIV",{});var o=E(t);s=b(o,"H4",{});var f=E(s);r=M(f,c[0]),f.forEach(u),o.forEach(u),this.h()},h(){Q(e.src,l=c[0]+".jpg")||p(e,"src",l),p(e,"alt","name"),p(e,"width","80%")},m(a,o){_(a,e,o),_(a,n,o),_(a,t,o),N(t,s),N(s,r)},p(a,o){o&1&&!Q(e.src,l=a[0]+".jpg")&&p(e,"src",l),o&1&&X(r,a[0])},d(a){a&&u(e),a&&u(n),a&&u(t)}}}function me(c){let e,l,n,t;const s=[ie,ce],r=[];function a(o,f){return o[1]?0:1}return e=a(c),l=r[e]=s[e](c),{c(){l.c(),n=D()},l(o){l.l(o),n=D()},m(o,f){r[e].m(o,f),_(o,n,f),t=!0},p(o,f){let i=e;e=a(o),e===i?r[e].p(o,f):(y(),$(r[i],1,1,()=>{r[i]=null}),U(),l=r[e],l?l.p(o,f):(l=r[e]=s[e](o),l.c()),d(l,1),l.m(n.parentNode,n))},i(o){t||(d(l),t=!0)},o(o){$(l),t=!1},d(o){r[e].d(o),o&&u(n)}}}function _e(c){let e;const l=c[2].default,n=V(l,c,c[3],null),t=n||me(c);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,r){t&&t.m(s,r),e=!0},p(s,[r]){n?n.p&&(!e||r&8)&&F(n,l,s,s[3],e?O(l,s[3],r,null):B(s[3]),null):t&&t.p&&(!e||r&3)&&t.p(s,e?r:-1)},i(s){e||(d(t,s),e=!0)},o(s){$(t,s),e=!1},d(s){t&&t.d(s)}}}function de(c,e,l){let{$$slots:n={},$$scope:t}=e,{name:s}=e,{show:r}=e;return c.$$set=a=>{"name"in a&&l(0,s=a.name),"show"in a&&l(1,r=a.show),"$$scope"in a&&l(3,t=a.$$scope)},[s,r,n,t]}class he extends G{constructor(e){super();H(this,e,de,_e,L,{name:0,show:1})}}function Z(c,e,l){const n=c.slice();return n[6]=e[l][0],n[7]=e[l][1],n}function $e(c){let e;return{c(){e=A("error!")},l(l){e=M(l,"error!")},m(l,n){_(l,e,n)},p:I,i:I,o:I,d(l){l&&u(e)}}}function pe(c){let e,l,n;return l=new ee({props:{class:"center auma",$$slots:{default:[ge]},$$scope:{ctx:c}}}),{c(){e=g("div"),v(l.$$.fragment),this.h()},l(t){e=b(t,"DIV",{class:!0});var s=E(e);w(l.$$.fragment,s),s.forEach(u),this.h()},h(){p(e,"class","margin-small")},m(t,s){_(t,e,s),j(l,e,null),n=!0},p(t,s){const r={};s&5&&(r.$$scope={dirty:s,ctx:t}),l.$set(r)},i(t){n||(d(l.$$.fragment,t),n=!0)},o(t){$(l.$$.fragment,t),n=!1},d(t){t&&u(e),C(l)}}}function z(c){let e,l;return e=new he({props:{name:c[6],show:c[7]}}),{c(){v(e.$$.fragment)},l(n){w(e.$$.fragment,n)},m(n,t){j(e,n,t),l=!0},p(n,t){const s={};t&1&&(s.name=n[6]),t&1&&(s.show=n[7]),e.$set(s)},i(n){l||(d(e.$$.fragment,n),l=!0)},o(n){$(e.$$.fragment,n),l=!1},d(n){C(e,n)}}}function ge(c){var r;let e,l,n=Object.entries((r=c[0])!=null?r:{}),t=[];for(let a=0;a<n.length;a+=1)t[a]=z(Z(c,n,a));const s=a=>$(t[a],1,1,()=>{t[a]=null});return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=D()},l(a){for(let o=0;o<t.length;o+=1)t[o].l(a);e=D()},m(a,o){for(let f=0;f<t.length;f+=1)t[f].m(a,o);_(a,e,o),l=!0},p(a,o){var f;if(o&1){n=Object.entries((f=a[0])!=null?f:{});let i;for(i=0;i<n.length;i+=1){const h=Z(a,n,i);t[i]?(t[i].p(h,o),d(t[i],1)):(t[i]=z(h),t[i].c(),d(t[i],1),t[i].m(e.parentNode,e))}for(y(),i=n.length;i<t.length;i+=1)s(i);U()}},i(a){if(!l){for(let o=0;o<n.length;o+=1)d(t[o]);l=!0}},o(a){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)$(t[o]);l=!1},d(a){te(t,a),a&&u(e)}}}function be(c){let e;return{c(){e=A("loading...")},l(l){e=M(l,"loading...")},m(l,n){_(l,e,n)},p:I,i:I,o:I,d(l){l&&u(e)}}}function ke(c){let e,l,n,t={ctx:c,current:null,token:null,hasCatch:!0,pending:be,then:pe,catch:$e,value:0,error:10,blocks:[,,,]};return W(l=c[0],t),{c(){e=D(),t.block.c()},l(s){e=D(),t.block.l(s)},m(s,r){_(s,e,r),t.block.m(s,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e,n=!0},p(s,r){c=s,t.ctx=c,r&1&&l!==(l=c[0])&&W(l,t)||J(t,c,r)},i(s){n||(d(t.block),n=!0)},o(s){for(let r=0;r<3;r+=1){const a=t.blocks[r];$(a)}n=!1},d(s){s&&u(e),t.block.d(s),t.token=null,t=null}}}function ve(c){let e;const l=c[1].default,n=V(l,c,c[2],null),t=n||ke(c);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,r){t&&t.m(s,r),e=!0},p(s,[r]){n?n.p&&(!e||r&4)&&F(n,l,s,s[2],e?O(l,s[2],r,null):B(s[2]),null):t&&t.p&&(!e||r&1)&&t.p(s,e?r:-1)},i(s){e||(d(t,s),e=!0)},o(s){$(t,s),e=!1},d(s){t&&t.d(s)}}}function we(c,e,l){let n;K(c,le,o=>l(4,n=o));let{$$slots:t={},$$scope:s}=e,r;async function a(){const o=Y(re,"fossil",n.userid),f=await x(o);if(f.exists())return console.log("Document data:",f.data()),console.log(f.data()),f.data(),f.data();console.log("No such document!")}return q(()=>{l(0,r=a())}),c.$$set=o=>{"$$scope"in o&&l(2,s=o.$$scope)},[r,t,s]}class je extends G{constructor(e){super();H(this,e,we,ve,L,{})}}function Ce(c){let e,l;return{c(){e=g("div"),l=g("canvas"),this.h()},l(n){e=b(n,"DIV",{id:!0,class:!0});var t=E(e);l=b(t,"CANVAS",{id:!0,height:!0}),E(l).forEach(u),t.forEach(u),this.h()},h(){p(l,"id","canvas"),p(l,"height","250"),p(e,"id","wrapper"),p(e,"class","center")},m(n,t){_(n,e,t),N(e,l)},d(n){n&&u(e)}}}function Ee(c){let e;const l=c[1].default,n=V(l,c,c[0],null),t=n||Ce();return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,r){t&&t.m(s,r),e=!0},p(s,[r]){n&&n.p&&(!e||r&1)&&F(n,l,s,s[0],e?O(l,s[0],r,null):B(s[0]),null)},i(s){e||(d(t,s),e=!0)},o(s){$(t,s),e=!1},d(s){t&&t.d(s)}}}function Ie(c,e,l){let{$$slots:n={},$$scope:t}=e;return q(()=>{const s=document.createElement("video"),r=document.getElementById("canvas"),a=r.getContext("2d"),o=document.getElementById("msg"),f={video:{facingMode:"environment"}};navigator.mediaDevices.getUserMedia(f).then(m=>{s.srcObject=m,s.setAttribute("playsinline",""),s.play(),i()});function i(){if(s.readyState===s.HAVE_ENOUGH_DATA){a.drawImage(s,0,0,r.width,r.height);const m=a.getImageData(0,0,r.width,r.height),k=ne(m.data,m.width,m.height,{inversionAttempts:"dontInvert"});k&&(h(k.location),o.innerText=k.data,k.data.startsWith("http://localhost:3000/")&&oe(k.data))}setTimeout(i,100)}function h(m){T(m.topLeftCorner,m.topRightCorner),T(m.topRightCorner,m.bottomRightCorner),T(m.bottomRightCorner,m.bottomLeftCorner),T(m.bottomLeftCorner,m.topLeftCorner)}function T(m,k){a.lineWidth=4,a.strokeStyle="#FF3B58",a.beginPath(),a.moveTo(m.x,m.y),a.lineTo(k.x,k.y),a.stroke()}}),c.$$set=s=>{"$$scope"in s&&l(0,t=s.$$scope)},[t,n]}class De extends G{constructor(e){super();H(this,e,Ie,Ee,L,{})}}function Re(c){let e,l,n,t,s,r,a,o,f;return e=new se({props:{back:!1}}),n=new De({}),o=new je({}),{c(){v(e.$$.fragment),l=R(),v(n.$$.fragment),t=R(),s=g("h4"),r=A("\u3053\u308C\u307E\u3067\u306B\u767A\u898B\u3057\u305F\u5316\u77F3"),a=R(),v(o.$$.fragment),this.h()},l(i){w(e.$$.fragment,i),l=S(i),w(n.$$.fragment,i),t=S(i),s=b(i,"H4",{class:!0});var h=E(s);r=M(h,"\u3053\u308C\u307E\u3067\u306B\u767A\u898B\u3057\u305F\u5316\u77F3"),h.forEach(u),a=S(i),w(o.$$.fragment,i),this.h()},h(){p(s,"class","margin-small")},m(i,h){j(e,i,h),_(i,l,h),j(n,i,h),_(i,t,h),_(i,s,h),N(s,r),_(i,a,h),j(o,i,h),f=!0},p:I,i(i){f||(d(e.$$.fragment,i),d(n.$$.fragment,i),d(o.$$.fragment,i),f=!0)},o(i){$(e.$$.fragment,i),$(n.$$.fragment,i),$(o.$$.fragment,i),f=!1},d(i){C(e,i),i&&u(l),C(n,i),i&&u(t),i&&u(s),i&&u(a),C(o,i)}}}function Ae(c){return q(()=>{ae()}),[]}class He extends G{constructor(e){super();H(this,e,Ae,Re,L,{})}}export{He as default};
